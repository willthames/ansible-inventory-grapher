digraph prod_web_server_1a {
  rankdir=TB;

  all [shape=record fontname="Times New Roman, Bold" label="
{ all |
customerdb_dbname \l
image \l
region \l
sshkey \l
storedb_dbname \l
} "]

  prod_web_server_1a [shape=record fontname="Times New Roman, Bold" style=rounded label="
{ prod-web-server-1a} "]

  production [shape=record fontname="Times New Roman, Bold" label="
{ production |
customerdb_host \l
customerdb_port \l
databases \l
env \l
security_group \l
storedb_host \l
storedb_port \l
} "]

  production_az_a [shape=record fontname="Times New Roman, Bold" label="
{ production-az-a |
subnet \l
zone \l
} "]

  production_web [shape=record fontname="Times New Roman, Bold" label="
{ production-web |
instance_type \l
} "]

  production_web_a [shape=record fontname="Times New Roman, Bold" label="
{ production-web-a} "]

  web [shape=record fontname="Times New Roman, Bold" label="
{ web |
customerdb_user \l
databases \l
storedb_user \l
} "]


  all -> web;
  all -> production;
  production -> production_web;
  production -> production_az_a;
  production_az_a -> production_web_a;
  production_web -> production_web_a;
  production_web_a -> prod_web_server_1a;
  web -> production_web;
}
